/**
 * 自定义样式
 * 
 * @author mumu
 * @description 包含中文字体配置和其他自定义样式
 */

/* ===== 中文字体配置 ===== */

/**
 * 使用 LXGW Bright Code 和霞鹜文楷字体作为中文字体
 * 
 * - LXGW WenKai: 优雅的中文字体，适合正文阅读
 * - LXGW WenKai Screen: 针对屏幕显示优化的版本
 * - 代码字体使用系统等宽字体 + LXGW Bright Code
 * - 添加了完整的中文字体回退链，确保在任何环境下都能正确显示中文
 */

:root {
  /* 正文字体 - 优先使用系统内置中文字体，确保字体一定能显示 */
  --vp-font-family-base: 
    /* 首选：LXGW 霞鹜文楷字体（如果CDN加载成功） */
    'LXGW WenKai Screen', 'LXGW WenKai',
    /* macOS 系统中文字体 */
    'PingFang SC', 'Hiragino Sans GB', 'Heiti SC', 'STHeiti',
    /* Windows 系统中文字体 */
    'Microsoft YaHei', 'Microsoft YaHei UI', '微软雅黑',
    'SimSun', '宋体', 'SimHei', '黑体',
    /* Linux 系统中文字体 */
    'WenQuanYi Micro Hei', 'WenQuanYi Zen Hei', 'Noto Sans CJK SC', 'Source Han Sans SC',
    /* 通用 CJK 字体 */
    'Noto Sans SC', 'Droid Sans Fallback',
    /* 西文字体 */
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, 
    Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif,
    /* Emoji 字体 */
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  
  /* 代码字体 - 优先使用系统内置等宽中文字体 */
  --vp-font-family-mono: 
    /* 首选：LXGW 明亮体（如果CDN加载成功） */
    'LXGW Bright Code',
    /* 优质等宽字体 */
    'Cascadia Code', 'Fira Code', 'JetBrains Mono',
    /* macOS 等宽字体 */
    'SF Mono', Menlo, Monaco,
    /* Windows 等宽字体 */
    'Consolas', 'Courier New',
    /* 中文等宽字体（用于中文字符） */
    'PingFang SC', 'Microsoft YaHei Mono', 'Microsoft YaHei',
    'SimSun', 'Source Han Sans CN', 'Noto Sans Mono CJK SC',
    'WenQuanYi Micro Hei Mono', 'WenQuanYi Zen Hei Mono',
    /* 通用等宽字体 */
    'Courier', monospace,
    /* Emoji 字体 */
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

/* 强制代码块使用等宽字体 */
code,
pre,
.vp-code {
  font-family: var(--vp-font-family-mono) !important;
}

/* 优化中文排版 */
body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 中文标点符号优化 */
.vp-doc {
  hanging-punctuation: allow-end;
  text-spacing: ideograph-alpha ideograph-numeric;
}

/* ===== 代码块样式优化 ===== */

/* 代码块行号样式 */
.vp-code-group .line-numbers-mode .line-numbers {
  font-family: var(--vp-font-family-mono);
}

/* 代码块标题栏 */
.vp-code-group .tabs {
  font-family: var(--vp-font-family-base);
}

/* 内联代码样式 */
.vp-doc :not(pre) > code {
  font-family: var(--vp-font-family-mono);
  font-size: 0.875em;
  padding: 3px 6px;
  border-radius: 4px;
  background-color: var(--vp-c-mute);
}

/* ===== LaTeX 数学公式支持 ===== */

/* 数学公式使用专用字体 */
.katex,
.MathJax {
  font-family: 'Latin Modern Math', 'STIX Two Math', 'KaTeX_Math', serif;
}

/* ===== 表格样式优化 ===== */

.vp-doc table {
  font-variant-numeric: tabular-nums;
}

/* ===== 自定义容器样式 ===== */

/* 提示框 */
.vp-doc .tip,
.vp-doc .warning,
.vp-doc .danger,
.vp-doc .info {
  border-left-width: 4px;
  padding: 16px 16px 16px 20px;
}

/* ===== 导航栏和侧边栏优化 ===== */

/* 确保导航栏使用中文字体 */
.VPNav,
.VPSidebar {
  font-family: var(--vp-font-family-base);
}

/* ===== 搜索框优化 ===== */

.VPLocalSearchBox {
  font-family: var(--vp-font-family-base);
}

/* ===== 响应式字体大小 ===== */

@media (max-width: 768px) {
  :root {
    --vp-doc-font-size: 15px;
  }
}

@media (min-width: 769px) {
  :root {
    --vp-doc-font-size: 16px;
  }
}

/* ===== 代码高亮颜色自定义 ===== */

/* 可以根据需要自定义代码高亮颜色 */
.vp-code .highlighted {
  background-color: var(--vp-code-line-highlight-color);
  transition: background-color 0.5s;
}

/* ===== 打印样式 ===== */

@media print {
  body {
    font-family: var(--vp-font-family-base);
  }
  
  code,
  pre {
    font-family: var(--vp-font-family-mono);
  }
}
