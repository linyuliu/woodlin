# 生产环境配置
# 作者: mumu
# 描述: 生产环境专用配置，CORS配置具体域名保证安全性

# CORS跨域配置（生产环境）
woodlin:
  cors:
    # 启用CORS
    enabled: ${CORS_ENABLED:true}
    # 允许的源模式（生产环境配置具体域名）
    # 使用 allowedOriginPatterns 而不是 allowedOrigins，可以支持通配符子域名
    # 例如：https://*.example.com 可以匹配 https://www.example.com, https://api.example.com 等
    allowed-origin-patterns:
      - ${CORS_ALLOWED_ORIGIN_1:https://example.com}
      - ${CORS_ALLOWED_ORIGIN_2:https://www.example.com}
      # 可以根据需要添加更多域名
      # - ${CORS_ALLOWED_ORIGIN_3:https://admin.example.com}
    # 允许的HTTP方法
    allowed-methods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
      - PATCH
    # 允许的请求头
    allowed-headers:
      - "*"
    # 暴露的响应头
    exposed-headers:
      - Authorization
      - Content-Type
      - X-Total-Count
    # 生产环境可以启用凭证（配合allowedOriginPatterns使用）
    allow-credentials: ${CORS_ALLOW_CREDENTIALS:true}
    # 预检请求缓存时间（秒）
    max-age: ${CORS_MAX_AGE:3600}
    # 应用的路径模式
    path-pattern: "/**"
