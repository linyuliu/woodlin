# ============================================================================
# Woodlin Nacos 配置中心 - 环境变量配置示例
# ============================================================================
# 说明：此文件包含了 Nacos 配置中心所需的所有环境变量及其默认值
# 
# 使用方法：
#   1. 复制此文件为 .env.nacos
#   2. 根据实际环境修改相应的值
#   3. 在 Nacos 控制台导入配置时，使用这些变量作为占位符
#   4. 配置优先级：环境变量 > Nacos配置 > 默认值
#
# 配置文件说明：
#   - woodlin-dev.yml: 开发环境配置（数据库、Redis、MyBatis）
#   - woodlin-woodlin-admin.yml: woodlin-admin 应用配置（认证、文档、业务）
# ============================================================================

# ==================== 应用基础配置 ====================
# Spring 应用名称（默认：woodlin-admin）
SPRING_APPLICATION_NAME=woodlin-admin

# 运行环境：dev（开发）, test（测试）, prod（生产）
SPRING_PROFILES_ACTIVE=dev

# 服务器端口（默认：8080）
SERVER_PORT=8080

# 应用上下文路径（默认：/api）
SERVER_CONTEXT_PATH=/api

# ==================== Nacos 配置中心 ====================
# 是否启用 Nacos 配置中心（默认：true）
NACOS_CONFIG_ENABLED=true

# Nacos 服务器地址（集群模式用逗号分隔，默认：localhost:8848）
# 示例：nacos1.example.com:8848,nacos2.example.com:8848
NACOS_SERVER_ADDR=localhost:8848

# Nacos 命名空间（用于环境隔离，留空使用public命名空间）
# dev环境：留空或使用 dev
# test环境：test
# prod环境：production
NACOS_NAMESPACE=

# Nacos 分组（默认：DEFAULT_GROUP）
NACOS_GROUP=DEFAULT_GROUP

# Nacos 用户名（开启鉴权时需要，默认：nacos）
NACOS_USERNAME=nacos

# Nacos 密码（开启鉴权时需要，默认：nacos）
NACOS_PASSWORD=nacos

# ==================== 数据库配置 ====================
# 数据库连接URL（默认：本地MySQL）
DATABASE_URL=jdbc:mysql://localhost:3306/woodlin?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8

# 数据库用户名（默认：root）
DATABASE_USERNAME=root

# 数据库密码（默认：Passw0rd）
DATABASE_PASSWORD=Passw0rd

# 数据库驱动（默认：MySQL 8.x驱动）
DATABASE_DRIVER=com.mysql.cj.jdbc.Driver

# Druid 连接池 - 初始连接数（默认：5）
DATABASE_DRUID_INITIAL_SIZE=5

# Druid 连接池 - 最小空闲连接数（默认：5）
DATABASE_DRUID_MIN_IDLE=5

# Druid 连接池 - 最大活动连接数（默认：20）
DATABASE_DRUID_MAX_ACTIVE=20

# Druid 连接池 - 最大等待时间/毫秒（默认：60000）
DATABASE_DRUID_MAX_WAIT=60000

# Druid 连接池 - 验证查询语句（默认：SELECT 1）
DATABASE_DRUID_VALIDATION_QUERY=SELECT 1

# ==================== Redis 配置 ====================
# Redis 主机地址（默认：localhost）
REDIS_HOST=localhost

# Redis 端口（默认：6379）
REDIS_PORT=6379

# Redis 数据库索引 0-15（默认：0）
REDIS_DATABASE=0

# Redis 密码（留空表示无密码）
REDIS_PASSWORD=

# Redis 连接超时时间（默认：10s）
REDIS_TIMEOUT=10s

# Redis 连接池 - 最大活动连接数（默认：200）
REDIS_POOL_MAX_ACTIVE=200

# Redis 连接池 - 最大等待时间（默认：-1ms，表示无限等待）
REDIS_POOL_MAX_WAIT=-1ms

# Redis 连接池 - 最大空闲连接数（默认：10）
REDIS_POOL_MAX_IDLE=10

# Redis 连接池 - 最小空闲连接数（默认：0）
REDIS_POOL_MIN_IDLE=0

# ==================== Sa-Token 认证配置 ====================
# Token 名称（默认：Authorization）
SA_TOKEN_NAME=Authorization

# Token 前缀（默认：Bearer）
SA_TOKEN_PREFIX=Bearer

# Token 有效期/秒，-1表示永不过期（默认：2592000，30天）
SA_TOKEN_TIMEOUT=2592000

# Token 活跃超时时间/秒（默认：3600，1小时）
SA_TOKEN_ACTIVITY_TIMEOUT=3600

# 是否允许并发登录（默认：true）
SA_TOKEN_IS_CONCURRENT=true

# 是否共用 Token（默认：false）
SA_TOKEN_IS_SHARE=false

# Token 风格：uuid, simple-uuid, random-32, random-64, random-128（默认：uuid）
SA_TOKEN_STYLE=uuid

# 是否输出操作日志（默认：false）
SA_TOKEN_IS_LOG=false

# ==================== Knife4j API 文档配置 ====================
# 是否启用 Knife4j 增强模式（默认：true）
KNIFE4J_ENABLE=true

# 是否启用 Basic 认证（默认：false）
KNIFE4J_BASIC_ENABLE=false

# Basic 认证用户名（默认：admin）
KNIFE4J_BASIC_USERNAME=admin

# Basic 认证密码（默认：123456）
KNIFE4J_BASIC_PASSWORD=123456

# 是否启用生产环境屏蔽（默认：false）
KNIFE4J_PRODUCTION=false

# ==================== SnailJob 任务调度配置 ====================
# 是否启用 SnailJob（默认：true）
SNAIL_JOB_ENABLED=true

# SnailJob 服务端地址（默认：localhost:8888）
SNAIL_JOB_SERVER_ADDRESS=localhost:8888

# SnailJob 命名空间（默认：woodlin）
SNAIL_JOB_NAMESPACE=woodlin

# SnailJob 组名称（默认：woodlin-admin）
SNAIL_JOB_GROUP_NAME=woodlin-admin

# 最大重试次数（默认：3）
SNAIL_JOB_MAX_RETRY_COUNT=3

# 重试间隔/秒（默认：30）
SNAIL_JOB_RETRY_INTERVAL=30

# ==================== 构建信息配置 ====================
# 是否在API响应中包含远程仓库URL（默认：false，生产环境建议false）
BUILD_INFO_INCLUDE_REMOTE_URL=false

# ==================== 安全配置 - 用户活动监控 ====================
# 是否启用用户活动监控（默认：true）
ACTIVITY_MONITORING_ENABLED=true

# 用户无活动超时时间/秒（默认：1800，30分钟）
ACTIVITY_MONITORING_TIMEOUT=1800

# 监控检查间隔/秒（默认：60）
ACTIVITY_MONITORING_CHECK_INTERVAL=60

# 是否监控API请求活动（默认：true）
ACTIVITY_MONITORING_API=true

# 是否监控用户交互（键盘、鼠标，默认：true）
ACTIVITY_MONITORING_INTERACTIONS=true

# 活动监控警告提前时间/秒（默认：300，5分钟）
ACTIVITY_MONITORING_WARNING=300

# ==================== 安全配置 - 密码策略 ====================
# 是否启用密码策略（默认：true）
PASSWORD_POLICY_ENABLED=true

# 是否要求首次登录修改密码（默认：false）
PASSWORD_REQUIRE_FIRST_CHANGE=false

# 密码过期天数，0表示永不过期（默认：0）
PASSWORD_EXPIRE_DAYS=0

# 密码过期前提醒天数（默认：7）
PASSWORD_WARNING_DAYS=7

# 最大密码错误次数（默认：5）
PASSWORD_MAX_ERROR_COUNT=5

# 账号锁定时长/分钟（默认：30）
PASSWORD_LOCK_DURATION_MINUTES=30

# 是否启用强密码策略（默认：false）
PASSWORD_STRONG_REQUIRED=false

# 最小密码长度（默认：6）
PASSWORD_MIN_LENGTH=6

# 最大密码长度（默认：20）
PASSWORD_MAX_LENGTH=20

# 是否要求包含数字（默认：false）
PASSWORD_REQUIRE_DIGITS=false

# 是否要求包含小写字母（默认：false）
PASSWORD_REQUIRE_LOWERCASE=false

# 是否要求包含大写字母（默认：false）
PASSWORD_REQUIRE_UPPERCASE=false

# 是否要求包含特殊字符（默认：false）
PASSWORD_REQUIRE_SPECIAL_CHARS=false

# ==================== API 加密配置 ====================
# 是否启用API加密功能（默认：false）
API_ENCRYPTION_ENABLED=false

# 加密算法类型：AES, RSA, SM4（默认：AES）
API_ENCRYPTION_ALGORITHM=AES

# AES 加密密钥（Base64编码，留空）
API_ENCRYPTION_AES_KEY=

# AES 初始化向量 IV（Base64编码，留空）
API_ENCRYPTION_AES_IV=

# AES 加密模式：CBC, ECB, CFB, OFB, CTR（默认：CBC）
API_ENCRYPTION_AES_MODE=CBC

# AES 填充方式：PKCS5Padding, PKCS7Padding, NoPadding（默认：PKCS5Padding）
API_ENCRYPTION_AES_PADDING=PKCS5Padding

# RSA 公钥（Base64编码，留空）
API_ENCRYPTION_RSA_PUBLIC_KEY=

# RSA 私钥（Base64编码，留空）
API_ENCRYPTION_RSA_PRIVATE_KEY=

# RSA 密钥长度：1024, 2048, 4096（默认：2048）
API_ENCRYPTION_RSA_KEY_SIZE=2048

# SM4 加密密钥（Base64编码，留空）
API_ENCRYPTION_SM4_KEY=

# SM4 初始化向量 IV（Base64编码，留空）
API_ENCRYPTION_SM4_IV=

# SM4 加密模式：CBC, ECB（默认：CBC）
API_ENCRYPTION_SM4_MODE=CBC

# 是否加密请求体（默认：true）
API_ENCRYPTION_REQUEST=true

# 是否加密响应体（默认：true）
API_ENCRYPTION_RESPONSE=true

# 加密数据的字段名（默认：encryptedData）
API_ENCRYPTION_FIELD_NAME=encryptedData

# 是否在响应头中添加加密标识（默认：true）
API_ENCRYPTION_HEADER=true

# 加密标识响应头名称（默认：X-Encrypted）
API_ENCRYPTION_HEADER_NAME=X-Encrypted

# ==================== 缓存配置 ====================
# 是否启用 Redis 二级缓存（默认：true）
CACHE_REDIS_ENABLED=true

# --- 字典缓存 ---
# 是否启用字典缓存（默认：true）
CACHE_DICTIONARY_ENABLED=true

# 字典缓存过期时间/秒（默认：3600，1小时）
CACHE_DICTIONARY_EXPIRE=3600

# 字典缓存刷新间隔/秒（默认：1800，30分钟）
CACHE_DICTIONARY_REFRESH=1800

# --- 系统配置缓存 ---
# 是否启用配置缓存（默认：true）
CACHE_CONFIG_ENABLED=true

# 配置缓存过期时间/秒（默认：7200，2小时）
CACHE_CONFIG_EXPIRE=7200

# 配置缓存刷新间隔/秒（默认：3600，1小时）
CACHE_CONFIG_REFRESH=3600

# ==================== 可搜索加密配置 ====================
# 是否启用可搜索加密功能（默认：false）
SEARCHABLE_ENCRYPTION_ENABLED=false

# 加密密钥（Base64编码，256位，留空）
SEARCHABLE_ENCRYPTION_KEY=

# N-gram 大小，用于模糊搜索（默认：2）
SEARCHABLE_ENCRYPTION_NGRAM_SIZE=2

# 是否自动加密标注字段（默认：true）
SEARCHABLE_ENCRYPTION_AUTO_ENCRYPT=true

# 是否自动生成搜索索引（默认：true）
SEARCHABLE_ENCRYPTION_AUTO_INDEX=true

# 搜索索引字段的后缀（默认：_search_index）
SEARCHABLE_ENCRYPTION_INDEX_SUFFIX=_search_index

# 是否启用缓存（默认：true）
SEARCHABLE_ENCRYPTION_CACHE_ENABLED=true

# 缓存过期时间/秒（默认：3600，1小时）
SEARCHABLE_ENCRYPTION_CACHE_EXPIRE=3600

# 最大缓存条目数（默认：10000）
SEARCHABLE_ENCRYPTION_MAX_CACHE=10000

# ==================== 响应配置 ====================
# 响应字段过滤模式：NONE, MINIMAL, CUSTOM（默认：NONE）
RESPONSE_FILTER_MODE=NONE

# 是否包含时间戳字段（默认：true）
RESPONSE_INCLUDE_TIMESTAMP=true

# 是否包含请求ID字段（默认：false）
RESPONSE_INCLUDE_REQUEST_ID=false

# 是否包含消息字段（默认：true）
RESPONSE_INCLUDE_MESSAGE=true

# 是否包含状态码字段（默认：true）
RESPONSE_INCLUDE_CODE=true

# 是否启用请求级别的动态控制（默认：true）
RESPONSE_ENABLE_REQUEST_CONTROL=true

# 请求头名称，用于控制响应字段（默认：X-Response-Fields）
RESPONSE_REQUEST_HEADER_NAME=X-Response-Fields

# ==================== CORS 跨域配置 ====================
# 是否启用 CORS（默认：true）
CORS_ENABLED=true

# 允许的源模式，支持通配符（默认：http://localhost:*）
CORS_ALLOWED_ORIGIN_PATTERN=http://localhost:*

# 是否允许携带凭证（默认：true）
CORS_ALLOW_CREDENTIALS=true

# 预检请求缓存时间/秒（默认：3600，1小时）
CORS_MAX_AGE=3600

# ============================================================================
# 使用提示：
# 
# 1. 开发环境快速启动：
#    export NACOS_SERVER_ADDR=localhost:8848
#    export SPRING_PROFILES_ACTIVE=dev
#    mvn spring-boot:run -pl woodlin-admin
#
# 2. 禁用 Nacos 使用本地配置：
#    export NACOS_CONFIG_ENABLED=false
#    mvn spring-boot:run -pl woodlin-admin
#
# 3. 生产环境建议：
#    - 使用专用的命名空间（NACOS_NAMESPACE=production）
#    - 启用 Nacos 鉴权（NACOS_USERNAME, NACOS_PASSWORD）
#    - 修改所有默认密码和密钥
#    - 启用强密码策略（PASSWORD_STRONG_REQUIRED=true）
#
# 4. 更多配置说明：
#    - docs/NACOS_CONFIGURATION.md - 完整配置指南
#    - docs/NACOS_QUICKSTART.md - 快速开始指南
#
# ============================================================================

# ============================================================================
# 注意事项：
# 1. 敏感信息（如密码、密钥）请勿提交到版本控制系统
# 2. 生产环境必须使用更强的密码和密钥
# 3. 某些配置修改后需要重启应用才能生效
# 4. 配置支持动态刷新（refresh: true），但部分配置除外（如数据源）
# ============================================================================
